# Map Generator

Map Generator는 게임 지형 및 오브젝트를 쉽게 디자인하고, Unity 엔진으로 내보낼 수 있는 툴입니다. 직관적인 인터페이스를 통해 지형 높이 편집, 경사로 생성, 플랫폼 배치 등의 기능을 제공합니다.

## 주요 기능

### 맵 에디터 기능
- 사각형, 원, 실린더, 반원 등 다양한 도형 배치
- 도형 선택, 이동, 삭제, 복제 기능
- 콜라이더 설정 옵션

### 지형 편집 기능
- 브러시 도구를 사용한 지형 높낮이 조절
- 높이기, 낮추기, 스무딩, 평탄화 기능
- 경사로 및 플랫폼 추가 기능
- 지형 세부 요소 커스터마이징

### 유니티 연동
- 지형 데이터를 Unity에서 사용 가능한 형식으로 내보내기
- Unity용 임포터 스크립트 자동 생성
- 지형 높이맵 및 오브젝트 데이터 보존

## 설치 및 실행

### 요구사항
- Python 3.7 이상
- PyQt5
- NumPy

### 설치 방법
```bash
# 필요한 패키지 설치
pip install PyQt5 numpy
```

### 실행 방법
```bash
python main.py
```

## 사용 방법

### 맵 에디터 탭
1. 상단 툴바에서 원하는 도형 선택
2. 맵 뷰에서 클릭 및 드래그하여 도형 배치
3. 우측 패널에서 도형 속성 조정
4. 배치된 도형 선택 후 이동, 삭제, 복제 가능

### 지형 에디터 탭
1. 지형 생성 섹션에서 지형 크기 및 해상도 설정
2. "지형 생성" 버튼 클릭하여 기본 지형 생성
3. 브러시 도구 선택 (높이기, 낮추기, 스무딩, 평탄화, 경사로)
4. 지형 위에서 마우스 클릭 및 드래그하여 지형 편집
5. 플랫폼 추가 탭에서 플랫폼 설정 후 추가 가능

### 유니티로 내보내기
1. 임포트/익스포트 탭으로 이동
2. "유니티 파일로 저장" 버튼 클릭
3. 저장 위치 선택
4. 생성된 JSON 파일과 CS 스크립트를 Unity 프로젝트로 복사
5. Unity 에디터에서 "Tools > Import Terrain" 메뉴 실행
6. 임포터 창에서 JSON 파일 선택 및 대상 Terrain 지정
7. "Import Terrain" 버튼 클릭하여 지형 데이터 적용

## 프로젝트 구조

```
Map_Generator/
├── core/                 # 핵심 기능 모듈
│   ├── shapes.py         # 도형 클래스 정의
│   ├── terrain.py        # 지형 클래스 정의
│   ├── obj_loader.py     # OBJ 파일 로더
│   └── unity_exporter.py # Unity 내보내기 기능
├── gui/                  # 사용자 인터페이스 모듈
│   ├── main_window.py    # 메인 창 구현
│   ├── preview_widget.py # 지형 미리보기 위젯
│   └── terrain_editor.py # 지형 편집 위젯
└── main.py               # 프로그램 진입점
```


## 알려진 이슈
- 변수 이름 불일치 문제 수정 중 (`rows`/`cols`와 `grid_width`/`grid_length` 등)
- 대용량 지형 생성 시 메모리 사용량 최적화 필요

## 라이센스
이 프로젝트는 [MIT 라이센스](LICENSE)에 따라 배포됩니다.